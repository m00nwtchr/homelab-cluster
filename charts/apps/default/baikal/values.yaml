app-template:
  controllers:
    baikal:
      pod:
        securityContext:
          runAsUser: 101
          runAsGroup: 101
          runAsNonRoot: true
          fsGroup: 101
          fsGroupChangePolicy: OnRootMismatch

      containers:
        app:
          image:
            repository: ckulka/baikal
            tag: 0.10.1-nginx
          env:
            - name: BAIKAL_SKIP_CHOWN
              value: "true"
  service:
    app:
      controller: baikal
      ports:
        http:
          port: 80
          targetPort: 8080
  ingress:
    app:
      hosts:
        - host: baikal.m00nlit.dev
          paths:
            - path: /
              service:
                identifier: app
                port: http
        - host: baikal.svc.m00nlit.dev
          paths:
            - path: /
              service:
                identifier: app
                port: http
  persistence:
    config:
      type: secret
      name: baikal-config
      globalMounts:
        - path: /var/www/baikal/config/baikal.yaml
          subPath: baikal.yaml
    nginx-config:
      type: configMap
      name: baikal-nginx-config
      globalMounts:
        - path: /etc/nginx/conf.d/default.conf
          subPath: nginx.conf
    cache:
      type: emptyDir
      globalMounts:
        - path: /var/cache/nginx/
        - path: /var/run/
#    data:
#      size: 1Gi
#      accessMode: ReadWriteOnce
#      annotations:
#        argocd.argoproj.io/sync-options: Delete=false
#      globalMounts:
#        - path: /var/www/baikal/Specific