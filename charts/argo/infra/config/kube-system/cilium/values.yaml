cluster:
  name: default

cni:
  binPath: "/usr/lib/cni/"

devices:
  - enp+
  - tailscale0

routingMode: native
loadBalancer:
  mode: hybrid
l2announcements:
    enabled: true
#k8sClientRateLimit:
#  qps: {QPS}
#  burst: {BURST}

nodePort:
  directRoutingDevice: tailscale0

gatewayAPI:
  enabled: true

authentication:
  mutual:
    spire:
      enabled: true
      install:
        enabled: true

ipam:
  mode: cluster-pool
  operator:
    clusterPoolIPv6MaskSize: 64
    clusterPoolIPv4MaskSize: 24

enableIPv6Masquerade: true

externalIPs:
  enabled: true

ipv6:
  enabled: true
ipv4:
  enabled: true

bpf:
  datapathMode: netkit
  masquerade: true
  distributedLRU:
    enabled: true
  mapDynamicSizeRatio: 0.08
bpfClockProbe: true

k8s:
  requireIPv6PodCIDR: true
  requireIPv4PodCIDR: false

k8sServiceHost: ::1
k8sServicePort: 6444
kubeProxyReplacement: true

operator:
  replicas: 1

bandwidthManager:
  enabled: true
  bbr: true
hostFirewall:
  enabled: false
policyAuditMode: false
policyEnforcementMode: default

nodeSelectorLabels: true

prometheus:
  enabled: true
