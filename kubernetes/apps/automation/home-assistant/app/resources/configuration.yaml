# Loads default set of integrations. Do not remove.
default_config:

http:
  use_x_forwarded_for: true
  trusted_proxies:
    - 2001:cafe:42::/56
    - 10.42.0.0/16

recorder:
  db_url: !env_var HASS_RECORDER_DB_URL

prometheus:
  namespace: hass
  component_config_glob:
    sensor.*_temp:
      override_metric: temperature_c
    sensor.temperature*:
      override_metric: temperature_c
    sensor.*_bat:
      override_metric: battery_percent
  filter:
    include_domains:
      - sensor
    exclude_entity_globs:
      - sensor.weather_*
      - sensor.sun_*

auth_oidc:
  client_id: ${APP}
  client_secret: !env_var HASS_OPENID_CLIENT_SECRET
  discovery_url: "https://idm.${SECRET_DOMAIN}/oauth2/openid/${APP}/.well-known/openid-configuration"
  features:
    automatic_person_creation: true
  id_token_signing_alg: "ES256"
  roles:
    admin: "admins@idm.${SECRET_DOMAIN}"
    user: "users@idm.${SECRET_DOMAIN}"

wake_on_lan:

# Load frontend themes from the themes folder
frontend:
  themes: !include_dir_merge_named themes

automation: !include automations.yaml
script: !include scripts.yaml
scene: !include scenes.yaml
