---
# yaml-language-server: $schema=https://k8s-schemas.m00nlit.dev/toolhive.stacklok.dev/embeddingserver_v1alpha1.json
apiVersion: toolhive.stacklok.dev/v1alpha1
kind: EmbeddingServer
metadata:
  name: embedding
spec:
  model: sentence-transformers/all-MiniLM-L6-v2
  image: ghcr.io/huggingface/text-embeddings-inference:cpu-latest@sha256:79c0f0cd8f3c79f4952a2e75b26e2c8fcb22dc9b36b4697fec331193ba74e8f7
  env:
    - name: HOSTNAME
      value: "::"
  # krr: controller=embedding container=embedding
  resources:
    limits:
      memory: 1Gi
    requests:
      memory: 100Mi
